<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MC - CA</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial, sans-serif; transition: background-color 0.4s; }
        body, html { height: 100%; width: 100%; background-color: white; overflow-x: hidden; }
        #bg-canvas { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: 0; pointer-events: none; }

        /* --- INTRO --- */
        #intro-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: white; z-index: 1000; display: flex; justify-content: center; align-items: center; }
        video#introVideo { width: 100%; height: 100%; object-fit: cover; }
        #enter-btn { position: absolute; bottom: 10%; right: 10%; background: black; color: white; border: none; padding: 15px 30px; font-size: 1.2rem; cursor: pointer; display: none; font-weight: bold; z-index: 1001; }

        /* --- HEADER --- */
        .header { padding: 1.5% 5%; border-bottom: 2px solid white; background-color: rgba(244, 244, 244, 0.95); display: flex; justify-content: space-between; align-items: center; z-index: 30; min-height: 15vh; position: relative; }
        .header-center-area { position: absolute; left: 55%; transform: translateX(-50%); display: flex; flex-direction: column; align-items: center; gap: 5px; }
        .header-center-title { font-size: 1.5rem; font-weight: bold; color: black; text-transform: uppercase; text-align: center; }
        .sw-list { display: flex; flex-wrap: wrap; justify-content: center; gap: 8px; font-size: 0.8rem; font-weight: bold; max-width: 50vw; }
        .sw-tag { padding: 2px 6px; }
        .sw-tag.blue-h { background: rgb(122, 161, 190); }
        .sw-tag.green-h { background: rgb(169, 212, 177); }
        .sw-tag.teal-h { background: rgb(133, 162, 162); }
        .sw-tag.red-h { background: rgb(227, 59, 78); }
        .header-titles h1 { font-size: 3.5rem; font-weight: bold; }
        .header-titles p { font-size: 1.1rem; color: #333; }
        .header-logo img { height: 8vh; width: auto; }

        /* --- CONTENT --- */
        .content-wrapper { display: flex; flex: 1; height: 85vh; overflow: hidden; position: relative; z-index: 10; }
        .sidebar { width: 15%; border-right: 2px solid grey; display: flex; flex-direction: column; padding: 20px 0 20px 3%; gap: 15px; background: white; z-index: 30; }
        .gallery { flex: 1; display: flex; flex-direction: column; align-items: center; overflow-y: auto; padding-bottom: 100px; z-index: 20; background: transparent; }
        
        .img-wrap { width: 90%; display: flex; flex-direction: column; position: relative; align-items: center; padding-bottom: 50px; }
        .gallery img { width: 100%; height: auto; object-fit: contain; display: block; }
        
        .cp-caption { align-self: flex-end; margin-top: 10px; font-size: 0.85rem; font-weight: bold; background: white; color: black; padding: 4px 8px; text-transform: uppercase; border: 1px solid #eee; }
        .btn-container { display: flex; gap: 15px; margin: 5px auto 30px auto; justify-content: center; flex-wrap: wrap; }
        .btn-link { display: inline-block; padding: 10px 20px; background-color: black; color: white; text-decoration: none; font-weight: bold; font-size: 0.8rem; text-transform: uppercase; border-radius: 2px; }
        .project-description { width: 90%; padding: 25px; text-align: center; line-height: 1.6; background: rgba(255,255,255,0.9); margin-bottom: 20px; }

        /* --- MOLINETTE SCROLL --- */
        .molinette-scroll-container { 
            width: 100%; min-height: 65vh; overflow-x: auto; display: flex; gap: 0; padding: 20px 5%; margin: 20px auto 80px auto;
            scrollbar-width: auto; scrollbar-color: rgb(227, 59, 78) #f0f0f0; 
        }
        .molinette-scroll-container::-webkit-scrollbar { height: 12px; }
        .molinette-scroll-container::-webkit-scrollbar-thumb { background: rgb(227, 59, 78); border-radius: 6px; }
        .molinette-scroll-img { height: 60vh; width: auto; flex-shrink: 0; object-fit: contain; }

        /* --- GENOVA --- */
        .genova-content { width: 100%; color: white; position: relative; padding-top: 30px; }
        .genova-title { color: rgb(173, 54, 35); font-size: 3.5rem; margin-bottom: 50px; text-align: center; }
        .bilingual-grid { display: flex; width: 100%; gap: 40px; margin-bottom: 60px; padding: 0 10%; }
        .lang-col { flex: 1; display: flex; flex-direction: column; }
        .it-side { text-align: right; color: white; } .en-side { text-align: left; color: #888; }
        .video-box-genova { width: 85%; aspect-ratio: 16/9; background: white; margin: 0 auto 80px auto; overflow: hidden; }
        .video-box-genova video { width: 100%; height: 100%; object-fit: cover; }
        
        #schema-master-container { position: relative; width: 100%; padding: 0 5%; display: flex; flex-direction: column; }
        .schema-row { display: flex; width: 100%; margin-bottom: 250px; align-items: flex-start; }
        .box-container { position: relative; border: 1px solid rgba(255, 255, 255, 0.15); z-index: 10; background-color: #1a1a1a; }
        .box-label { position: absolute; top: -35px; left: 0; font-size: 0.8rem; font-weight: bold; color: rgb(122, 161, 190); white-space: nowrap; }
        .gray-left { width: 22vw; aspect-ratio: 4 / 3; } .mid-right { width: 45vw; aspect-ratio: 16 / 9; margin-left: 10vw; margin-top: 60px; }
        #master-svg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 5; }

        /* --- RESPONSIVE MOBILE --- */
        @media (max-width: 768px) {
            .header { flex-direction: column; min-height: auto; padding: 15px; }
            .header-titles h1 { font-size: 2.2rem; text-align: center; }
            .header-center-area { position: static; transform: none; margin: 15px 0; width: 100%; }
            .sw-list { max-width: 100%; font-size: 0.7rem; }
            .header-logo { display: none; }
            .content-wrapper { flex-direction: column; height: auto; }
            .sidebar { width: 100%; border-right: none; border-bottom: 2px solid grey; flex-direction: row; overflow-x: auto; padding: 10px; }
            .gallery { height: 75vh; width: 100%; }
            .molinette-scroll-img { height: 40vh; }
            .bilingual-grid { flex-direction: column; gap: 20px; text-align: center !important; }
            .it-side, .en-side { text-align: center; }
            .gray-left { width: 40vw; } .mid-right { width: 50vw; }
        }

        .menu-item { cursor: pointer; font-size: 1rem; text-transform: uppercase; color: black; text-align: left; }
        .menu-item.active-blue { color: rgb(122, 161, 190) !important; font-weight: bold; }
        .menu-item.active-green { color: rgb(169, 212, 177) !important; font-weight: bold; }
        .menu-item.active-teal { color: rgb(133, 162, 162) !important; font-weight: bold; }
        .menu-item.active-red { color: rgb(227, 59, 78) !important; font-weight: bold; }
        .back-home { margin-top: auto; font-weight: bold; cursor: pointer; color: black; }
        .dark-mode { background-color: black !important; color: white !important; }
        .dark-mode .sidebar { background-color: black !important; }
        .dark-mode .header { background-color: #111 !important; }
        .dark-mode .menu-item, .dark-mode .back-home, .dark-mode .header-titles p, .dark-mode .header-center-title, .dark-mode .sw-tag { color: white !important; }
    </style>
</head>
<body>
    <div id="cursor-dot" style="position: fixed; width: 10px; height: 10px; background: rgb(173, 54, 35); border-radius: 50%; pointer-events: none; z-index: 99999; display: none;"></div>
    <canvas id="bg-canvas"></canvas>

    <div id="intro-container">
        <video id="introVideo" autoplay muted playsinline onended="this.pause()">
            <source src="intro.mp4" type="video/mp4">
        </video>
        <button id="enter-btn" onclick="openPage('ca')">ENTRA</button>
    </div>
    
    <div id="main-interface" style="display:none; flex-direction:column; height:100vh;">
        <div class="header">
            <div class="header-titles"><h1 id="side-initials"></h1><p id="side-fullname"></p></div>
            <div class="header-center-area">
                <div class="header-center-title" id="proj-title"></div>
                <div class="sw-list" id="sw-box"></div>
            </div>
            <div class="header-logo"><img src="logo.PNG" alt="Logo"></div>
        </div>
        <div class="content-wrapper">
            <div class="sidebar" id="menu-box"></div>
            <div class="gallery" id="gallery-box"></div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('bg-canvas');
        const ctx = canvas.getContext('2d');
        let currentEffect = "", mouseX = 0, mouseY = 0, randomGalleryInterval;
        const softwareList = ["AutoCAD", "SketchUp", "Illustrator", "Revit", "Indesign", "V-Ray", "Lumion 3D", "Enscape", "Photoshop", "Pacchetto Office", "Rhino", "Grasshopper", "Dynamo"];
        const cpCaptions = ["Assonometria", "Pianta piano tipo", "Prospetto Sud", "Sezione A-A"];

        function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; if(currentEffect) drawEffect(currentEffect); }
        window.addEventListener('resize', resize); resize();

        setTimeout(() => { document.getElementById('enter-btn').style.display = 'block'; }, 2000);

        function openPage(user) {
            document.getElementById('intro-container').style.display='none';
            document.getElementById('main-interface').style.display='flex';
            document.getElementById('side-initials').innerText = user.toUpperCase();
            document.getElementById('side-fullname').innerText = 'Claudio Antonelli';
            buildMenu();
            startRandomGallery();
        }

        function buildMenu() {
            const box = document.getElementById('menu-box'); box.innerHTML = "";
            const projs = ["CASA PIONIERA", "CENTRO POLIFUNZIONALE", "THE ELLIPSE", "RIQUALIFICAZIONE MOLINETTE", "RELOADINGENOVA"];
            projs.forEach(p => {
                const d = document.createElement('div'); d.className = 'menu-item'; d.innerText = p;
                d.onclick = () => { stopRandomGallery(); loadProject(p, d); };
                box.appendChild(d);
            });
            const back = document.createElement('div'); back.className = 'back-home'; back.innerText = "MC - CA";
            back.onclick = () => location.reload(); box.appendChild(back);
        }

        function startRandomGallery() {
            const gallery = document.getElementById('gallery-box');
            const pool = ["CASA PIONIERA 1.PNG", "CASA PIONIERA 2.PNG", "CENTRO POLIFUNZIONALE 1.PNG", "THE ELLIPSE 1.PNG", "RIQUALIFICAZIONE MOLINETTE 1.PNG"];
            const update = () => {
                gallery.innerHTML = "";
                let shuffled = pool.sort(() => 0.5 - Math.random()).slice(0, 4);
                shuffled.forEach(src => {
                    const div = document.createElement('div'); div.className = 'img-wrap';
                    div.innerHTML = `<img src="CA/${src}" onerror="this.src=this.src.replace('.PNG','.png')">`;
                    gallery.appendChild(div);
                });
            };
            update();
            randomGalleryInterval = setInterval(update, 5000);
        }

        function stopRandomGallery() { clearInterval(randomGalleryInterval); }

        function loadProject(title, element) {
            const gallery = document.getElementById('gallery-box'); gallery.scrollTo(0,0);
            document.querySelectorAll('.menu-item').forEach(m => m.classList.remove('active-green', 'active-teal', 'active-red', 'active-blue'));
            if(title === "CASA PIONIERA") element.classList.add('active-green');
            else if(title === "THE ELLIPSE") element.classList.add('active-teal');
            else if(title === "RIQUALIFICAZIONE MOLINETTE") element.classList.add('active-red');
            else element.classList.add('active-blue');

            document.getElementById('proj-title').innerText = title;
            gallery.innerHTML = ""; 
            document.body.classList.toggle('dark-mode', title === "RELOADINGENOVA");
            document.getElementById('cursor-dot').style.display = (title === "RELOADINGENOVA") ? "block" : "none";

            const descText = {
                "CASA PIONIERA": "La Casa Pioniera è un progetto di un cohousing per genitori divorziati. Il lotto è situato a Nord di Torino, nel quartiere di Barriera di Milano, ma effettivamente l’idea progettuale si estende nel primo intorno della zona. L’edificio è di quattro piani fuori terra e si relaziona con il contesto densamente edificato e la forma triangolare del lotto è stato sfruttato per la sua opportunità di essere un edificio di testa. Quest’ultima caratteristica ha dato il nome del progetto infatti, la Casa Pioniera. Il piano terra ospita locali dedicati alla comunità, motivo per cui lo spazio contiguo è di fondamentale importanza per garantire continuità e qualità architettonica. I piani superiori invece ospitano le residenze. La copertura è uno spazio comune riservato.",
                "CENTRO POLIFUNZIONALE": "Il progetto del Centro Polifunzionale è l’esito della vincita di un concorso pubblico nel comune di Beinasco. Si tratta di un edificio di circa 1200 mq su 3 piani fuori terra che ospitano numerosi spazi polifunzionali, tra cui una biblioteca e un bar aperto al pubblico. Nel primo piano ci sono molteplici affacci su dei vuoti verso il piano terra per garantire un senso di apertura e un’esperienza spaziale ricercata. La progettazione di questo edificio è andato incontro non solo alle esigenze funzionali ma anche alle necessità fisiche e ai problemi tecnici di cantiere. Attualmente è in fase di realizzazione ed è stato finanziato dai fondi PNRR. Il suo aspetto è frutto di ispirazione artistica applicata all’architettura, ovvero il celebre quadro di Laszlo Moholy-Nagy “Konstrucktion IV” reso tridimensionale e spazializzato attraverso le richieste da parte dell’Amministrazione Pubblica.",
                "THE ELLIPSE": "The Ellipse è un progetto ex novo di un sistema di 4 edifici, chiamati giocosamente “bolle” per via della loro forma, a Torino. L’intenzione era di dare un nuovo volto non solo al lotto di progetto ma anche all’intera comunità del quartiere. Il masterplan riprende la figura geometrica dell’ellisse, così come le piante e le sezioni. Sono ospitate all’interno di questi edifici diverse funzioni pubbliche e private, ipotizzate dall’analisi del territorio limitrofo, per garantire un piano di riqualificazione e resilienza del quartiere. Particolare importanza è stata data alla progettazione dell’involucro, ovvero le bolle, rispetto agli edifici stessi, considerando esse non come il tamponamento esterno ma piuttosto come un sistema termoregolatore per via della totale esposizione del lotto. Quest’ultimo quindi ricopre molteplici ruoli fondamentali per la qualità della vita all’interno degli edifici e rispecchia perfettamente il concept progettuale e i fabbisogni di sostenibilità ambientale.",
                "RIQUALIFICAZIONE MOLINETTE": "In vista della nuova apertura del Parco della Salute a Torino è stato fatto un nuovo masterplan delle Molinette. Questo progetto è frutto di valutazioni economiche registringenti e di una ricerca di investitori plausibili che ne hanno influenzato notevolmente l’esito. Per questi motivi il lotto di progetto è una rivisitazione dell’attuale complesso ma tiene conto anche di nuove progettazioni puntali per la vivibilità del luogo. I percorsi, le funzioni e le gallerie dell’area sono state di notevole importanza alla visione delle connessioni con il quartiere e anch’essi hanno contribuito alla stesura del piano. La densità del lotto e i costi di gestione sono stati ulteriori elementi chiave per la progettazione del verde, in connessione con il Parco Fluviale del fiume Po, e per le funzioni ospitate in esso. Inoltre il dislivello è stato visto come un’opportunità progettuale per la passarella sovrastante Corso Unità d’Italia e l’attuale parcheggio delle Molinette (rifunzionalizzato anch’esso)."
            };

            if(descText[title]) {
                const dBox = document.createElement('div'); dBox.className = 'project-description'; dBox.innerText = descText[title]; gallery.appendChild(dBox);
                if(title === "CENTRO POLIFUNZIONALE") {
                    const bCont = document.createElement('div'); bCont.className = 'btn-container';
                    bCont.innerHTML = `<a href="https://adarchitetti.it/lo-studio" target="_blank" class="btn-link">Studio AD Architetti</a><a href="https://www.theplan.it/award-2023-Culture/a-socio-cultural-multipurpose-center-in-turin-merges-bauhaus-and-wrightian-architecture-ad-studio-arch-roberto-apostolo-arch-paola-maria-delpiano" target="_blank" class="btn-link">Pubblicazione THE PLAN</a>`;
                    gallery.appendChild(bCont);
                }
            }

            if(title === "RELOADINGENOVA") {
                gallery.innerHTML += `<div class="genova-content">
                    <h1 class="genova-title">ReloadinGenova</h1>
                    <div class="bilingual-grid">
                        <div class="lang-col it-side"><div class="lang-label">IT</div><div class="description">L'obiettivo della tesi è stato quello di progettare la riqualificazione di un'area industriale a Genova, riconnettendo la città con il mare, grazie all'uso degli strumenti parametrici. L’uso degli strumenti parametrici consente di affrontare la progettazione urbana, e in misura maggiore quella architettonica, permettendo di gestire la complessità e di generare molteplici scenari. Per secoli la crescita di Genova si è intrecciata con la storia del suo porto. Come è possibile affrontare un progetto la cui storia è così strettamente legata alle trasformazioni della sua costa?</div></div>
                        <div class="lang-col en-side"><div class="lang-label">EN</div><div class="description">The goal of the thesis was to design the redevelopment of an industrial area in Genoa, reconnecting the city with the sea, through the use of parametric tools. The use of parametric tools allows for urban design, and to an even greater extent architectural design, to manage complexity and generate multiple scenarios. For centuries, the growth of Genoa has been intertwined with the history of its port. How is it possible to approach a project whose history is so closely linked to the transformations of its coastline?</div></div>
                    </div>
                    <div class="video-box-genova"><video autoplay muted loop playsinline class="gv" preload="auto"><source src="CA/genova1.mp4" type="video/mp4"></video></div>
                    <div class="bilingual-grid">
                        <div class="lang-col it-side"><div class="description">Genova è una città bifronte, contesa tra mare e montagna. Questo ha condotto, nel corso dei secoli, ad un uso intensivo del suo suolo. Genova è una città che ha un forte rapporto con il porto, tanto da far ruotare la sua economia intorno ad esso. Le industrie a partire dall'Ottocento si insediano sulla sua costa, motivo per il quale la città smette di avere un legame visivo con il mare.</div></div>
                        <div class="lang-col en-side"><div class="description">Genoa is a two-faced city, caught between the sea and the mountains. Over the centuries, this has led to intensive land use. Genoa has a strong bond with its port, so much so that its economy revolves around it. Starting from the nineteenth century, industries settled along its coast, which is why the city lost its visual link with the sea.</div></div>
                    </div>
                    <div id="schema-master-container">
                        <svg id="master-svg"></svg>
                        ${[0,1,2,3].map(i => `<div class="schema-row" id="row-${i}">
                            <div class="box-container gray-left"><div class="box-label">${['MASTERPLAN','VOLUME','DISTRIBUZIONE','DISPOSITIVI ESTERNI'][i]}</div><img src="CA/genova${i+2}.png" style="width:100%;height:100%;object-fit:cover" onerror="this.src=this.src.replace('.png','.PNG')"></div>
                            <div class="box-container mid-right"><video autoplay muted loop playsinline class="gv" style="width:100%;height:100%;object-fit:cover" preload="auto"><source src="CA/genova${i+6}.mp4" type="video/mp4"></video></div>
                        </div>`).join('')}
                        <div class="bilingual-grid">
                            <div class="lang-col it-side"><div class="description">I quattro algoritmi ci sono stati utili per gestire e mettere a sistema la complessità. Il progetto è stato diviso in quattro livelli di approfondimento: Masterplan, Volume, Distribuzione e Dispositivi Esterni. L'idea progettuale che si è perseguita è quella di riconnettere visivamente il lotto con il mare, massimizzando per ogni edificio la vista.</div></div>
                            <div class="lang-col en-side"><div class="description">The four algorithms were useful for managing and organizing complexity. The project was divided into four levels of depth: Masterplan, Volume, Distribution, and External Devices. The design concept pursued is to visually reconnect the site with the sea, maximizing the view for each building.</div></div>
                        </div>
                    </div></div>`;
                setTimeout(() => { document.querySelectorAll('.gv').forEach(v => v.play()); drawGenovaLines(); }, 800);
            } else if(title === "RIQUALIFICAZIONE MOLINETTE") {
                for(let i=1; i<=4; i++) {
                    const wrap = document.createElement('div'); wrap.className = 'img-wrap';
                    wrap.innerHTML = `<img src="CA/RIQUALIFICAZIONE MOLINETTE ${i}.PNG" onerror="this.src=this.src.replace('.PNG','.png')">`;
                    gallery.appendChild(wrap);
                }
                const sub = document.createElement('div'); sub.className = 'project-description'; sub.style.fontStyle = "italic"; sub.innerText = molinetteSubText; gallery.appendChild(sub);
                
                const sCont = document.createElement('div'); sCont.className = 'molinette-scroll-container';
                [5,6,7].forEach(n => {
                    sCont.innerHTML += `<img src="CA/RIQUALIFICAZIONE MOLINETTE ${n}.PNG" class="molinette-scroll-img" onerror="this.src=this.src.replace('.PNG','.png')">`;
                });
                gallery.appendChild(sCont);
            } else {
                let count = (title === "CENTRO POLIFUNZIONALE") ? 7 : 4;
                for(let i=1; i<=count; i++) {
                    const wrap = document.createElement('div'); wrap.className = 'img-wrap';
                    wrap.innerHTML = `<img src="CA/${title}${count>1?' '+i:''}.PNG" onerror="this.src=this.src.replace('.PNG','.png')">`;
                    if(title === "CASA PIONIERA") { const cap = document.createElement('div'); cap.className='cp-caption'; cap.innerText=cpCaptions[i-1]; wrap.appendChild(cap); }
                    gallery.appendChild(wrap);
                }
            }
            updateSW(title); drawEffect(title);
        }

        function updateSW(proj) {
            const box = document.getElementById('sw-box'); box.innerHTML = "";
            softwareList.forEach(s => {
                const span = document.createElement('span'); span.className = 'sw-tag'; span.innerText = s;
                if(proj === "CASA PIONIERA" && ["AutoCAD", "SketchUp", "Illustrator"].includes(s)) span.classList.add('green-h');
                if(proj === "CENTRO POLIFUNZIONALE" && ["AutoCAD", "Revit", "Indesign", "Lumion 3D", "SketchUp", "Photoshop", "Enscape", "Pacchetto Office"].includes(s)) span.classList.add('blue-h');
                if(proj === "THE ELLIPSE" && ["Revit", "Illustrator", "Lumion 3D", "Dynamo"].includes(s)) span.classList.add('teal-h');
                if(proj === "RIQUALIFICAZIONE MOLINETTE" && ["AutoCAD", "Revit", "Illustrator", "Photoshop", "Pacchetto Office"].includes(s)) span.classList.add('red-h');
                if(proj === "RELOADINGENOVA" && ["Rhino", "Grasshopper", "Illustrator", "Revit", "Indesign", "Photoshop"].includes(s)) span.classList.add('blue-h');
                box.appendChild(span);
            });
        }

        function drawEffect(type) {
            currentEffect = type; ctx.clearRect(0,0,canvas.width,canvas.height);
            if(type === "CASA PIONIERA") {
                ctx.strokeStyle = "black"; ctx.lineWidth = 1;
                for(let x=0; x<canvas.width; x+=60) {
                    for(let y=0; y<canvas.height; y+=90) {
                        ctx.beginPath(); ctx.rect(x,y,60,90);
                        if(mouseX>=x && mouseX<=x+60 && mouseY>=y && mouseY<=y+90) { ctx.fillStyle="rgba(169, 212, 177, 0.4)"; ctx.fill(); }
                        ctx.stroke();
                    }
                }
            }
        }

        function drawGenovaLines() {
            const svg = document.getElementById('master-svg'); const container = document.getElementById('schema-master-container');
            if (!container || !svg) return;
            const cRect = container.getBoundingClientRect();
            let paths = "";
            for (let i=0; i<4; i++) {
                const r = document.getElementById(`row-${i}`); if(!r) continue;
                const g = r.querySelector('.gray-left').getBoundingClientRect(); const m = r.querySelector('.mid-right').getBoundingClientRect();
                const gX = g.right - cRect.left, gY = (g.top + g.height/2) - cRect.top, mLX = m.left - cRect.left, mY = (m.top + m.height/2) - cRect.top;
                paths += `<path style="fill:none; stroke:rgb(122,161,190); stroke-width:2;" d="M ${gX},${gY} H ${gX+40} V ${mY} H ${mLX}" />`;
            }
            svg.innerHTML = paths;
        }

        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX; mouseY = e.clientY;
            const dot = document.getElementById('cursor-dot');
            dot.style.left = e.clientX + 'px'; dot.style.top = e.clientY + 'px';
            if(currentEffect === "CASA PIONIERA") drawEffect(currentEffect);
        });
    </script>
</body>
</html>
